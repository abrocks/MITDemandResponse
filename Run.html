<html>
    <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="datAll.js"></script>
    <script src= "Bid.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

    <script type="text/javascript">
    
    google.charts.load('current', {packages: ['corechart', 'line']});
    google.charts.setOnLoadCallback(drawISONEPRices);

    var PriceBidGraphableArray = ALLDATA.map(function(element){
        var intermediate = [];
            intermediate.push(element[1]+'/'+element[2]);
            intermediate.push(element[6]);
            intermediate.push(BidPrice); 
            return intermediate;
            });

    PriceBidGraphableArray.unshift(
    ['Time', 'DAM LMP', "Bid Price"]
    ); 

    function drawISONEPRices() {
        var gdata = google.visualization.arrayToDataTable(PriceBidGraphableArray); 
        var options = {
            title : 'ISO-NE Price versus Bid Price', 
            vAxis: {title: 'LMP ($/MWh)'},
            hAxis: {title: 'Time (Month/Day/Year/Hour)'},
            seriesType: 'line',
            series: {1: {type: 'line'}}
          }
        var chart = new google.visualization.ComboChart(document.getElementById('drawISONEPRicesChart_Div'));
        chart.draw(gdata, options);
        }
        ; 



//this could be a double line chart, but right now same axis
//http://tobiasahlin.com/blog/chartjs-charts-to-get-you-started/
//has same axis though

var ISONEPriceArray = ALLDATA.map(element){
    element[6]; 
}

    new Chart(document.getElementById("drawMITConsumptionVsISONE_Div"), {
    type: 'line',
    data: {
    labels: [1500,1600,1700,1750,1800,1850,1900,1950,1999,2050],//this would be date
    datasets: [{ 
        data: ISONEPriceArray,
        label: "ISO-NE",
        borderColor: "#3e95cd",
        fill: false
      }, { 
        data: [282,350,411,502,635,809,947,1402,3700,5267],
        label: "MIT Energy Consumption",
        borderColor: "#8e5ea2",
        fill: false
      }
    ]
  },
  options: {
    title: {
      display: true,
      text: ''
    }
  }
});

    </script>
    </head>
    <body>
        <div id="drawISONEPRicesChart_Div" style="width: 900px; height: 500px;"></div>
        <canvas id="drawMITConsumptionVsISONE_Div" width="900" height="500"></canvas>
    </body>
</html>